{% extends "base.html" %} {% block title %} Home {% endblock %} {% block head %}
{% load static%}
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Chess Reviewer</title>
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/chessboard-js/1.0.0/chessboard-1.0.0.min.css"
/>
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
/>
<link rel="stylesheet" href="{% static 'css_files/reviewer.css' %}" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/chessboard-js/1.0.0/chessboard-1.0.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/0.12.0/chess.min.js"></script>

{% endblock %} {% block body %}
<h1 class="text-center">Chess Reviewer</h1>
<div class="container">
  <div id="game-container">
    <div class="card" id="0-black">
      <div class="card-body" id="0-username">Black Player</div>
    </div>

    <div id="board-container">
      <div id="board"></div>
      <canvas id="arrowCanvas"></canvas>
    </div>

    <div class="card" id="player-1">
      <div class="card-body" id="1-username">White Player</div>
    </div>
  </div>

  <div class="review-panel">
    <h3>PGN Status</h3>
    <div id="pgnStatus" class="alert alert-success">
      PGN parsed successfully!
    </div>

    <!-- Analyze Window (Initially Visible) -->
    <div id="analyzeWindow" class="analyze-panel">
      <label for="depthSlider"><strong>Depth:</strong></label>
      <input
        type="range"
        id="depthSlider"
        min="10"
        max="30"
        value="15"
        step="1"
        class="form-range"
      />
      <span id="depthValue">15</span>
      <br />
      <button class="btn btn-outline-success mt-3" id="analyzebutton">
        Analyze
      </button>
    </div>

    <!-- Analysis Window (Initially Visible) -->
    <div id="resultWindow" class="analyze-panel d-none">
      <h2>Game Analysis Summary</h2>
      <div id="gameSummary" class="summary-panel"></div>

      <button class="btn btn-primary mt-3" id="toggleReview">
        Review Moves
      </button>
    </div>

    <!-- Move History Window (Initially Hidden) -->
    <div id="moveHistoryWindow" class="move-list hidden">
      <h3>Move History</h3>
      <div id="opening_name"></div>
      <div id="moveDetails"></div>
      <div id="analysis-output"></div>
      <div class="controls">
        <button id="flipBoard" title="Flip Board">
          <i class="fa fa-retweet"></i>
        </button>
        <button id="startPosition" title="Go to Start">
          <i class="fa fa-fast-backward"></i>
        </button>
        <button id="undoMove" title="Undo">
          <i class="fa fa-backward"></i>
        </button>
        <button id="redoMove" title="Redo">
          <i class="fa fa-forward"></i>
        </button>
        <button id="endPosition" title="Go to Last">
          <i class="fa fa-fast-forward"></i>
        </button>
      </div>
    </div>
  </div>
</div>
<script src="{% static 'js_files/reviewer.js' %}" defer></script>
{% endblock %}
